<!--
  Todo Item Partial Template

  This is a reusable HTML fragment that represents a single todo item.
  It demonstrates htmx's hypermedia-driven approach where the server
  returns HTML fragments instead of JSON data.

  Usage:
  - This template can be rendered on the server with todo data
  - Returned as response to AJAX requests
  - Swapped into the DOM by htmx

  Variables to interpolate:
  - {{id}}: Unique todo identifier
  - {{text}}: Todo text content
  - {{completed}}: Boolean completion status
  - {{completedClass}}: CSS class ("completed" or "")
  - {{checked}}: Checkbox state ("checked" or "")
-->

<li class="todo-item {{completedClass}}" id="todo-{{id}}">
  <div class="todo-content">
    <!-- Checkbox with htmx attributes for toggling completion -->
    <input
      type="checkbox"
      {{checked}}
      hx-post="/todos/{{id}}/toggle"
      hx-target="#todo-{{id}}"
      hx-swap="outerHTML"
      class="todo-checkbox"
    >

    <!-- Todo text -->
    <span class="todo-text">{{text}}</span>

    <!-- Delete button with confirmation -->
    <button
      class="delete-btn"
      hx-delete="/todos/{{id}}"
      hx-target="#todo-{{id}}"
      hx-swap="outerHTML swap:1s"
      hx-confirm="Are you sure you want to delete this todo?"
    >
      Delete
    </button>
  </div>
</li>

<!--
  htmx Attributes Explained:

  1. hx-post="/todos/{{id}}/toggle"
     - Makes POST request to toggle endpoint
     - Sends request when checkbox is clicked

  2. hx-target="#todo-{{id}}"
     - Specifies which element receives the response
     - Targets this specific todo item by ID

  3. hx-swap="outerHTML"
     - Replace entire element with server response
     - Server returns updated todo item HTML

  4. hx-delete="/todos/{{id}}"
     - Makes DELETE request to remove todo
     - HTTP method matches RESTful conventions

  5. hx-confirm="..."
     - Shows browser confirmation dialog
     - Prevents accidental deletions

  6. hx-swap="outerHTML swap:1s"
     - Includes 1-second swap animation
     - Provides smooth transition when removing element

  Philosophy:
  - Server returns HTML, not JSON
  - UI state managed server-side
  - Client simply swaps HTML fragments
  - No client-side templating needed
  - HATEOAS: Hypermedia As The Engine Of Application State
-->
